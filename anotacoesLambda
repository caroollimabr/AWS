#Amazon Rekognition: é bom imagens terem valores iguais e, no front, colocar height e width proporcionalmente (100x68, por ex)

#No bucket s3, além do permissionamento de Static Web Hosting, é bom ter o GetObject para que tudo seja visualizável pelo usuário

#Sempre que fazemos uma publicação, ela recebe a tag LATEST, mas você pode criar versões a partir dela.

#É possível apontar um trigger para o alias, mesmo que este não corresponda à última versão publicada, ou seja, vc pode apontar o trigger para um alias PROD e a partir daí, mesmo você publicando uma nova versão da sua aplicação, o ambiente de produção não é alterado.

no terminal:
aws lambda create-alias --function-name nomeDaFuncaoLambanaAWS --function-version 1 --name PROD -------versiona

aws lambda publish-version --function-name nomeDaFuncaoLambanaAWS -------publica 

aws lambda update-function-code --function-name faceAnalise --zip-file fileb://nomedoarquivo.zip  ---------sobe o código para o lambda

aws s3 sync . s3://nomedobuckets3

aws rekognition list-faces --collection-id faces | grep ExternalImageId aws s3 cp nomedoarquivo.png s3://nomedobuckets3

o campo handler do Lambda deve ser preenchido com o nome do arquivo seguido do nome da função - nomedoarquivo.funcao: faceanalise.main (nome do arquivo + nome da funcao principal do código)


serviços no lugar de infra - infraestrutura como serviço

lambda é mais barato do que deixar ec2 rodando
não precisa se preocupar com instalação de so, vc foca na sua aplicação e deixa o resto rodar do jeito que vc quiser

Para configurar AWS Lambda, é preciso
- definir o quanto de memória nossa função necessita. Atualmente, o mínimo é de 128MB.
- configurar um tempo máximo para nossa função. Caso ela não seja concluída dentro do tempo, ela é encerrada!

Ao executarmos uma função, é mostrado como saída um sumário com algumas informações relevantes:
-Resources Configured
-Max Memory Used

Para agendarmos nossa função backup, para que ela seja executada td dia às 01:05 da manhã: cron(5 1 * * ? *)
Os campos utilizados no cron da AWS são minutos, horas, dia do mês, mês, dia da semana e ano. O interrogação no dia da semana representa todos os dias da semana

Trigger: você pode colocar um trigger para fazer a sua função funcionar (por ex. colocar uma imagem no s3, ligar ec2, disparo de sns, etc)

comando dentro da pasta que vc tá para botar no s3: aws s3 sync . s3://<nomedobucket>

aws rekognition list-collections
aws rekognition list-faces --collection-id faces | grep ExternalImageId
--utilizar o grep para filtrar sua saída
